<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ƒêƒÉng k√Ω Clan TF</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">

<style>
:root{
    --accent:#ff3d00;
    --bg:#0f1724;
    --card:#161e2f;
    --text:#e6eef8;
    --text-muted:#b3bcc8;
}

*{ margin:0; padding:0; box-sizing:border-box; }
body{
    font-family:'Montserrat',sans-serif;
    min-height:100vh;
    background:url('logo.jpg') center/cover no-repeat fixed;
    color:var(--text);
    padding:20px;
    display:flex;
    justify-content:flex-start;
    flex-direction:column;
    align-items:center;
    position:relative;
}
body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.45);
    z-index:0;
}

.page{
    width:100%;
    max-width:440px;
    text-align:center;
    margin-top:10px;
    animation:fadeIn 0.7s ease;
    z-index:1;
}
h1{
    font-family:'Orbitron';
    color:var(--accent);
    text-transform:uppercase;
    margin-bottom:10px;
}
p{
    color:var(--text-muted);
    margin-bottom:18px;
}

.buttons{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    justify-content:center;
    margin-bottom:15px;
}
.btn{
    background:var(--accent);
    color:white;
    border:none;
    padding:10px 16px;
    border-radius:10px;
    cursor:pointer;
    font-weight:700;
    transition:0.25s;
}
.btn:hover{
    background:#ff1744;
    transform:scale(1.05);
}

/* ===== FORM ===== */
form{
    display:none;
    width:100%;
    max-width:420px;
    background:rgba(22,30,47,0.9);
    border:2px solid var(--accent);
    padding:18px;
    border-radius:12px;
    box-shadow:0 0 15px rgba(255,61,0,0.4);

    /* ‚≠ê KH√îNG CHE, C√ì SCROLL RI√äNG */
    max-height:80vh;
    overflow-y:auto;
}
form.active{ display:block; }

label{
    font-size:0.9rem;
    font-weight:600;
    margin-bottom:4px;
    display:block;
}
input,select,textarea{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:2px solid #fff;
    margin-bottom:12px;
    font-size:0.9rem;
    background:#fff;
    color:#000;
}
input:focus,select:focus{
    outline:none;
    box-shadow:0 0 10px var(--accent);
    border-color:var(--accent);
}

.submit{
    background:var(--accent);
    padding:12px;
    width:100%;
    border:none;
    font-weight:700;
    font-size:1rem;
    color:white;
    border-radius:10px;
    cursor:pointer;
}
.submit:hover{
    background:#ff1744;
    transform:scale(1.02);
}

.message{
    text-align:center;
    font-weight:700;
    margin-bottom:10px;
}
.success{ color:#4CAF50; }
.error{ color:#f44336; }
.loading{ color:#ffeb3b; }

/* Sakura */
#sakuraCanvas{
    position:fixed;
    inset:0;
    width:100%;
    height:100%;
    pointer-events:none;
    z-index:0;
}

/* Animations */
@keyframes fadeIn{ from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }

@media(max-width:480px){
    form{ padding:14px; }
    input,select{ font-size:0.85rem; }
}
</style>
</head>
<body>

<div class="page">
    <h1>ƒêƒÉng k√Ω Clan TF</h1>
    <p>Ch·ªçn nh√≥m mu·ªën v√†o r·ªìi ƒëi·ªÅn th√¥ng tin nh√©!</p>

    <div class="buttons">
        <button class="btn" onclick="showForm('sinhTon')">1Ô∏è‚É£ Sinh T·ªìn</button>
        <button class="btn" onclick="showForm('solo')">2Ô∏è‚É£ Solo T·ª≠ Chi·∫øn</button>
        <button class="btn" onclick="location.href='index.html'">üè† Trang Ch·ªß</button>
        <button class="btn" onclick="location.href='hotro.html'">üìû H·ªó Tr·ª£</button>
    </div>

    <!-- ====================== FORM SINH T·ªíN ====================== -->
    <form id="sinhTon">
        <h2>üî• Nh√≥m Sinh T·ªìn</h2>
        <input type="hidden" name="entry.group" value="Sinh T·ªìn">

        <label>T√™n trong game:</label>
        <input name="entry.name" required>

        <label>UID:</label>
        <input name="entry.uid" required>

        <label>Rank:</label>
        <select name="entry.rank" required>
            <option value="">-- Ch·ªçn Rank --</option>
            <option>ƒê·ªìng</option><option>B·∫°c</option><option>V√†ng</option>
            <option>B·∫°ch Kim</option><option>Kim C∆∞∆°ng</option><option>Huy·ªÅn Tho·∫°i</option>
            <option>Cao Th·ªß</option><option>ƒê·∫°i Cao Th·ªß</option><option>Top Sever</option>
        </select>

        <label>Vai tr√≤ mong mu·ªën:</label>
        <select name="entry.role" required>
            <option value="">-- Ch·ªçn Vai Tr√≤ --</option>
            <option>Rush</option>
            <option>Cover</option>
            <option>Sniper</option>
            <option>H·ªó tr·ª£</option>
        </select>

        <label>Tu·ªïi:</label>
        <input type="number" name="entry.age" min="14" max="30" required>

        <label>Gi·ªõi t√≠nh:</label>
        <select name="entry.gender" required>
            <option value="">-- Ch·ªçn Gi·ªõi T√≠nh --</option>
            <option>Nam</option>
            <option>N·ªØ</option>
            <option>Kh√°c</option>
        </select>

        <label>T√™n Facebook:</label>
        <input name="entry.fb_name" required>

        <label>Link Facebook:</label>
        <input type="url" name="entry.facebook" required>

        <label>Gi·ªù ho·∫°t ƒë·ªông:</label>
        <select name="entry.time" required>
            <option value="">-- Ch·ªçn gi·ªù --</option>
            <option>19:00</option>
            <option>20:00</option>
            <option>21:00</option>
            <option>22:00</option>
            <option>23:00</option>
        </select>

        <div class="message" id="msg-sinhTon"></div>
        <button class="submit">üöÄ G·ª≠i ƒëƒÉng k√Ω</button>
    </form>

    <!-- ====================== FORM SOLO ====================== -->
    <form id="solo">
        <h2>‚ö° Nh√≥m Solo</h2>
        <input type="hidden" name="entry.group" value="Solo T·ª≠ Chi·∫øn">

        <label>T√™n trong game:</label>
        <input name="entry.name" required>

        <label>UID:</label>
        <input name="entry.uid" required>

        <label>Rank:</label>
        <select name="entry.rank" required>
            <option value="">-- Ch·ªçn Rank --</option>
            <option>ƒê·ªìng</option><option>B·∫°c</option><option>V√†ng</option>
            <option>B·∫°ch Kim</option><option>Kim C∆∞∆°ng</option><option>Huy·ªÅn Tho·∫°i</option>
            <option>Cao Th·ªß</option><option>ƒê·∫°i Cao Th·ªß</option><option>Top Sever</option>
        </select>

        <label>Vai tr√≤ mong mu·ªën:</label>
        <select name="entry.role" required>
            <option value="">-- Ch·ªçn Vai Tr√≤ --</option>
            <option>Kai 2</option>
            <option>Kai 5</option>
            <option>Headshot Kai 2</option>
            <option>Headshot Kai 5</option>
        </select>

        <label>Tu·ªïi:</label>
        <input type="number" name="entry.age" min="14" max="30" required>

        <label>Gi·ªõi t√≠nh:</label>
        <select name="entry.gender" required>
            <option value="">-- Ch·ªçn Gi·ªõi T√≠nh --</option>
            <option>Nam</option>
            <option>N·ªØ</option>
            <option>Kh√°c</option>
        </select>

        <label>T√™n Facebook:</label>
        <input name="entry.fb_name" required>

        <label>Link Facebook:</label>
        <input type="url" name="entry.facebook" required>

        <label>Gi·ªù ho·∫°t ƒë·ªông:</label>
        <select name="entry.time" required>
            <option value="">-- Ch·ªçn gi·ªù --</option>
            <option>19:00</option>
            <option>20:00</option>
            <option>21:00</option>
            <option>22:00</option>
            <option>23:00</option>
        </select>

        <div class="message" id="msg-solo"></div>
        <button class="submit">üöÄ G·ª≠i ƒëƒÉng k√Ω</button>
    </form>
</div>

<canvas id="sakuraCanvas"></canvas>

<script>
// =========================================
//  HI·ªÜU ·ª®NG HOA ANH ƒê√ÄO
// =========================================
const canvas=document.getElementById("sakuraCanvas");
const ctx=canvas.getContext("2d");
let W=canvas.width=innerWidth;
let H=canvas.height=innerHeight;

const petals=[];
function rand(a,b){return Math.random()*(b-a)+a;}

for(let i=0;i<30;i++){
    petals.push({
        x:rand(0,W),
        y:rand(0,H),
        r:rand(5,12),
        d:rand(1,3),
        s:rand(0,6.28),
        sp:rand(0.01,0.03)
    });
}

function draw(){
    ctx.clearRect(0,0,W,H);
    petals.forEach(p=>{
        ctx.beginPath();
        ctx.fillStyle="rgba(255,182,193,0.9)";
        ctx.arc(p.x,p.y,p.r,0,7);
        ctx.fill();
        p.y+=p.d;
        p.x+=Math.sin(p.s)*2;
        p.s+=p.sp;

        if(p.y>H) p.y=-10;
        if(p.x>W) p.x=0;
        if(p.x<0) p.x=W;
    });
    requestAnimationFrame(draw);
}
draw();
addEventListener("resize",()=>{W=canvas.width=innerWidth; H=canvas.height=innerHeight;});

// =========================================
//  M·ªû FORM
// =========================================
function showForm(id){
    document.querySelectorAll("form").forEach(f=>f.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

// =========================================
//  G·ª¨I D·ªÆ LI·ªÜU
// =========================================
const URL = "https://script.google.com/macros/s/AKfycbwmZ2VrHOjCJGmnp8xz8II4nwfwulEZBn9YGZbklCouHZMDFjj_RBdTmgO-EXM9tmru/exec";

["sinhTon","solo"].forEach(id=>{
    const form=document.getElementById(id);
    const msg=document.getElementById("msg-"+id);

    form.addEventListener("submit",async e=>{
        e.preventDefault();

        const data=new FormData(form);
        const age=Number(data.get("entry.age"));
        if(age<14 || age>30){
            msg.innerHTML="<div class='error'>‚ùå Tu·ªïi ph·∫£i t·ª´ 14 ƒë·∫øn 30!</div>";
            return;
        }

        msg.innerHTML="<div class='loading'>‚è≥ ƒêang g·ª≠i...</div>";

        await fetch(URL,{method:"POST",body:data,mode:"no-cors"});

        msg.innerHTML="<div class='success'>‚úÖ Th√†nh c√¥ng! Vui l√≤ng ch·ªù x√©t duy·ªát.</div>";
        form.reset();
    });
});
</script>

</body>
</html>
