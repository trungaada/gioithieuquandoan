<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ƒêƒÉng k√Ω Clan TF</title>
<style>
:root {
 --accent:#ff3d00;
 --bg:#0f1724;
 --card:#161e2f;
 --text:#e6eef8;
 --text-muted:#b3bcc8;
}
* { box-sizing:border-box; margin:0; padding:0; }
html, body { width:100%; height:100%; font-family:'Montserrat',sans-serif; }
body{
 display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
 min-height:100vh; padding:20px;
 background-image:url('logo.jpg'); background-size:cover; background-position:center; background-repeat:no-repeat; background-attachment:fixed;
 color:var(--text); position:relative;
}
body::before{ content:""; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.4); z-index:0; }

.page-content{ width:100%; max-width:420px; display:flex; flex-direction:column; align-items:center; animation:fadeIn 0.8s ease-out forwards; opacity:0; animation-delay:0.3s; }
h1{ font-family:'Orbitron',sans-serif; color:var(--accent); text-transform:uppercase; margin-bottom:10px; font-size:2rem; text-align:center; z-index:1; }
p{ color:var(--text-muted); margin-bottom:20px; font-size:1rem; text-align:center; z-index:1; }
.buttons{ display:flex; justify-content:center; flex-wrap:wrap; gap:12px; margin-bottom:20px; z-index:1; }
button.group-btn{ background:var(--accent); color:#fff; border:none; border-radius:8px; padding:10px 18px; font-weight:700; font-size:0.9rem; cursor:pointer; transition:0.3s; }
button.group-btn:hover{ background:#ff1744; transform:scale(1.05); }
button.group-btn.highlight { animation: pulseGlow 1.5s ease-in-out infinite; }

form{ width:100%; max-width:400px; background:rgba(22,30,47,0.85); padding:20px; border-radius:12px; border:2px solid var(--accent); box-shadow:0 0 15px rgba(255,61,0,0.4); text-align:left; display:none; z-index:1; }
form.active{ display:block; }
label{ display:block; margin-bottom:6px; color:#fff; font-weight:600; font-size:0.9rem; }
input, select, textarea{ width:100%; padding:10px; margin-bottom:12px; border:2px solid #fff; border-radius:6px; font-size:0.9rem; transition: all 0.3s ease; }
input:focus, select:focus, textarea:focus{ outline:none; animation: rainbowBorder 1.5s linear infinite; box-shadow:0 0 10px rgba(255,255,255,0.7); transform:scale(1.02); }
button.submit-btn{ background:var(--accent); color:#fff; border:none; border-radius:8px; padding:12px 20px; font-weight:700; cursor:pointer; width:100%; font-size:1rem; transition:0.3s; }
button.submit-btn:hover{ background:#ff1744; transform:scale(1.03); }
.message{ text-align:center; margin-top:5px; min-height:24px; font-weight:bold; font-size:0.95rem; z-index:1; }
.success{ color:#4CAF50; }
.error{ color:#f44336; }
.loading{ color:#ffeb3b; animation:blink 1s infinite; }

@keyframes fadeIn{ from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
@keyframes rainbowBorder{ 0%{border-color:red;} 14%{border-color:orange;} 28%{border-color:yellow;} 42%{border-color:green;} 57%{border-color:cyan;} 71%{border-color:blue;} 85%{border-color:violet;} 100%{border-color:red;} }
@keyframes blink{ 0%,50%,100%{opacity:1;} 25%,75%{opacity:0.3;} }
@keyframes pulseGlow { 0% { box-shadow: 0 0 0px var(--accent); } 50% { box-shadow: 0 0 10px var(--accent), 0 0 20px rgba(255, 61, 0, 0.5); } 100% { box-shadow: 0 0 0px var(--accent); } }

@media(max-width:480px){ 
  .page-content{ max-width:360px; } 
  form{ padding:15px; } 
  h1{ font-size:1.5rem; } 
  p{ font-size:0.95rem; } 
  input, select, textarea{ font-size:0.85rem; padding:8px; } 
  button.group-btn, button.submit-btn{ font-size:0.85rem; padding:8px 12px; } 
  .buttons{ gap:8px; } 
}

#sakuraCanvas {
 position:fixed;
 top:0; left:0;
 width:100%; height:100%;
 pointer-events:none;
 z-index:0;
}
</style>
</head>
<body>

<div class="page-content">
<h1>ƒêƒÉng k√Ω Clan TF</h1>
<p>Ch·ªçn nh√≥m mu·ªën gia nh·∫≠p v√† ƒëi·ªÅn th√¥ng tin!</p>

<div class="buttons">
  <button class="group-btn" onclick="showForm('sinhTonForm')">1Ô∏è‚É£ Sinh T·ªìn</button>
  <button class="group-btn" onclick="showForm('soloForm')">2Ô∏è‚É£ Solo T·ª≠ Chi·∫øn</button>
  <button class="group-btn" onclick="window.location.href='index.html'">üîô Trang Ch·ªß</button>
  <button class="group-btn" onclick="window.location.href='hotro.html'">üîô H·ªó Tr·ª£</button>
</div>

<!-- FORM SINH T·ªíN -->
<form id="sinhTonForm">
  <h2>üî• Nh√≥m Sinh T·ªìn</h2>
  <input type="hidden" name="entry.group" value="Sinh T·ªìn">
  <label>T√™n trong game:</label><input type="text" name="entry.name" required>
  <label>UID:</label><input type="text" name="entry.uid" required>
  <label>Rank hi·ªán t·∫°i:</label>
  <select name="entry.rank" required>
    <option value="">-- Ch·ªçn Rank --</option>
    <option>ƒê·ªìng</option><option>B·∫°c</option><option>V√†ng</option>
    <option>B·∫°ch Kim</option><option>Kim C∆∞∆°ng</option><option>Huy·ªÅn Tho·∫°i</option>
    <option>Cao Th·ªß</option><option>ƒê·∫°i Cao Th·ªß</option><option>Top Sever</option>
  </select>
  <label>Vai tr√≤ mong mu·ªën:</label>
  <select name="entry.role" required>
    <option value="">-- Ch·ªçn Vai Tr√≤ --</option>
    <option>Rush</option>
    <option>Cover</option>
    <option>Sniper</option>
    <option>H·ªó tr·ª£</option>
  </select>
  <label>Tu·ªïi:</label><input type="number" name="entry.age" min="14" max="30" placeholder="Nh·∫≠p tu·ªïi" required>
  <label>Gi·ªõi t√≠nh:</label>
  <select name="entry.gender" required>
    <option value="">-- Ch·ªçn Gi·ªõi T√≠nh --</option>
    <option>Nam</option>
    <option>N·ªØ</option>
    <option>Kh√°c</option>
  </select>
  <label>T√™n Facebook (B·∫Øt Bu·ªôc):</label>
  <input type="text" name="entry.fb_name" placeholder="T√™n hi·ªÉn th·ªã tr√™n Facebook" required>
  <label>Li√™n k·∫øt Facebook (B·∫Øt Bu·ªôc):</label>
  <input type="url" name="entry.facebook" placeholder="https://facebook.com/username" required>
  <label>Khung th·ªùi gian:</label>
  <select name="entry.time" required>
      <option value="">-- Ch·ªçn khung gi·ªù --</option>
      <option>18h ‚Äì 20h</option>
      <option>19h ‚Äì 21h</option>
      <option>20h ‚Äì 22h</option>
      <option>21h ‚Äì 23h</option>
      <option>C·∫£ ng√†y</option>
  </select>
  <div class="message" id="msg-sinhTonForm"></div>
  <button type="submit" class="submit-btn">üöÄ G·ª≠i ƒëƒÉng k√Ω</button>
</form>

<!-- FORM SOLO -->
<form id="soloForm">
  <h2>‚ö° Nh√≥m Solo T·ª≠ Chi·∫øn</h2>
  <input type="hidden" name="entry.group" value="Solo T·ª≠ Chi·∫øn">
  <label>T√™n trong game:</label><input type="text" name="entry.name" required>
  <label>UID:</label><input type="text" name="entry.uid" required>
  <label>Rank hi·ªán t·∫°i:</label>
  <select name="entry.rank" required>
    <option value="">-- Ch·ªçn Rank --</option>
    <option>ƒê·ªìng</option><option>B·∫°c</option><option>V√†ng</option>
    <option>B·∫°ch Kim</option><option>Kim C∆∞∆°ng</option><option>Huy·ªÅn Tho·∫°i</option>
    <option>Cao Th·ªß</option><option>ƒê·∫°i Cao Th·ªß</option><option>Top Sever</option>
  </select>
  <label>Vai tr√≤ mong mu·ªën:</label>
  <select name="entry.role" required>
    <option value="">-- Ch·ªçn Vai Tr√≤ --</option>
    <option>Kai 2</option>
    <option>Kai 5</option>
    <option>Headshot Kai 2</option>
    <option>Headshot Kai 5</option>
  </select>
  <label>Tu·ªïi:</label><input type="number" name="entry.age" min="14" max="30" placeholder="Nh·∫≠p tu·ªïi" required>
  <label>Gi·ªõi t√≠nh:</label>
  <select name="entry.gender" required>
    <option value="">-- Ch·ªçn Gi·ªõi T√≠nh --</option>
    <option>Nam</option>
    <option>N·ªØ</option>
    <option>Kh√°c</option>
  </select>
  <label>T√™n Facebook (B·∫Øt Bu·ªôc):</label>
  <input type="text" name="entry.fb_name" placeholder="T√™n hi·ªÉn th·ªã tr√™n Facebook" required>
  <label>Li√™n k·∫øt Facebook (B·∫Øt Bu·ªôc):</label>
  <input type="url" name="entry.facebook" placeholder="https://facebook.com/username" required>
  <label>Khung th·ªùi gian:</label>
  <select name="entry.time" required>
      <option value="">-- Ch·ªçn khung gi·ªù --</option>
      <option>18h ‚Äì 20h</option>
      <option>19h ‚Äì 21h</option>
      <option>20h ‚Äì 22h</option>
      <option>21h ‚Äì 23h</option>
      <option>C·∫£ ng√†y</option>
  </select>
  <div class="message" id="msg-soloForm"></div>
  <button type="submit" class="submit-btn">üöÄ G·ª≠i ƒëƒÉng k√Ω</button>
</form>

<canvas id="sakuraCanvas"></canvas>

<script>
// ==== Sakura petals effect ====
const canvas = document.getElementById('sakuraCanvas');
const ctx = canvas.getContext('2d');
let W = canvas.width = window.innerWidth;
let H = canvas.height = window.innerHeight;
const petals = [];
const PETAL_COUNT = 30;
function random(min,max){ return Math.random()*(max-min)+min; }
function initPetals(){
  for(let i=0;i<PETAL_COUNT;i++){
    petals.push({
      x: random(0,W),
      y: random(0,H),
      r: random(5,12),
      d: random(1,3),
      swing: random(0,Math.PI*2),
      swingSpeed: random(0.01,0.03),
      color: 'rgba(255,182,193,0.8)'
    });
  }
}
function draw(){
  ctx.clearRect(0,0,W,H);
  for(let i=0;i<petals.length;i++){
    let p = petals[i];
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle = p.color;
    ctx.fill();
    p.y += p.d;
    p.x += Math.sin(p.swing) * 2;
    p.swing += p.swingSpeed;
    if(p.y > H) { p.y = -10; p.x = random(0,W); }
    if(p.x > W) { p.x = 0; }
    if(p.x < 0) { p.x = W; }
  }
  requestAnimationFrame(draw);
}
window.addEventListener('resize', () => {
  W = canvas.width = window.innerWidth;
  H = canvas.height = window.innerHeight;
});
initPetals(); draw();

// ==== Form handling ====
function showForm(id){
  document.getElementById('sinhTonForm').classList.remove('active');
  document.getElementById('soloForm').classList.remove('active');
  document.getElementById(id).classList.add('active');
}

const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbzlLo4thOVaMP9tcEHfJuXOPSHsYShEUUq7yosVYKzxC6UnBu_G_TkxPqEtXvk8d9s2/exec";

['sinhTonForm','soloForm'].forEach(f => {
  const form = document.getElementById(f);
  const msg = document.getElementById('msg-' + f);
  form.addEventListener("submit", async e => {
    e.preventDefault();
    const data = new FormData(form);
    const age = Number(data.get("entry.age"));
    if(isNaN(age) || age < 14 || age > 30){
      msg.innerHTML = `<p class='error'>‚ùå Tu·ªïi ph·∫£i l√† s·ªë t·ª´ 14 ƒë·∫øn 30!</p>`;
      return;
    }
    msg.innerHTML = `<span class="loading">‚è≥ ƒêang g·ª≠i d·ªØ li·ªáu...</span>`;
    try{
      await fetch(WEB_APP_URL,{method:"POST", body:data, mode:"no-cors"});
      msg.innerHTML = `<p class='success'>‚úÖ ƒêƒÉng k√≠ th√†nh c√¥ng!<br>‚ö° Th√¥ng tin c·ªßa b·∫°n ƒëang ƒë∆∞·ª£c x√©t duy·ªát üòé</p>`;
      form.reset();
    }catch(err){
      console.error(err);
      msg.innerHTML = `<p class='error'>‚ùå G·ª≠i th·∫•t b·∫°i! H√£y th·ª≠ l·∫°i.</p>`;
    }
  });
});

// ==== Scroll to input on focus ====
document.querySelectorAll('input, select, textarea').forEach(el => {
  el.addEventListener('focus', () => {
    const rect = el.getBoundingClientRect();
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const top = rect.top + scrollTop - 100; 
    window.scrollTo({ top: top, behavior: 'smooth' });
  });
});

// ==== Highlight buttons ====
window.addEventListener('load', () => {
  const sinhTonBtn = document.querySelector('button[onclick="showForm(\'sinhTonForm\')"]');
  const soloBtn = document.querySelector('button[onclick="showForm(\'soloForm\')"]');
  setTimeout(()=>{ sinhTonBtn.classList.add('highlight'); soloBtn.classList.add('highlight'); }, 1000);
  setTimeout(()=>{ sinhTonBtn.classList.remove('highlight'); soloBtn.classList.remove('highlight'); }, 4000);
});
</script>

</body>
</html>
